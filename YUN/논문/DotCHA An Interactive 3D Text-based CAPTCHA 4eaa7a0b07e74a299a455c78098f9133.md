# DotCHA: An Interactive 3D Text-based CAPTCHA

요약: DotCHA는 기존의 2D Text-based CAPTCHA의 보안성과 3D Text-based CAPTCHA의 사용성의 한계를 극복하기 위해 새롭게 도입된 3D Text-based CAPTCHA이다. 회전 각도에 따라 다른 글자를 표시하는 산발형 CAPTCHA로 사용자는 3D 모델을 회전시켜 글자를 식별해야한다. 보안을 강화하기 위해 배경에 노이즈를 추가하고 하나의 구체 대신 작은 입자 집합들을 사용하며 3D모델에 왜곡 적용과 같은 세가지 추가 전력이 고려될 수 있다.
저자: Sunghee Choi, Suzi Kim
진행상황: Completed

# 배경지식

CAPTCHA(Completely Automated Public Turing Test to Tell Computers and Humans Apart)는 인간과 컴퓨터를 구분하는 자동 공개 튜링 테스트이다. 이것은 기존의 텍스트와 이미지를 컴퓨터가 인식하기 어려운 형태로 변형한 후 인식 대상이 변형된 이미지로부터 기존 이미지를 도출해 낼 수 있는지를 확인하는 방식의 테스트이다. CAPTCHA의 사용목적은 악의적으로 사용되는 프로그램 봇을 막기 위해서이다. DotCHA는 인간 상호 작용을 기반으로 하는 새로운 유형의 3D Text-based CAPTCHA이며 기존 2D 및 3D CAPTCHA의 한계를 극복하고 사용자에게 3D텍스트 모델을 회전하여 올바른 문자를 식별하도록 요청한다. 

# 요약

DotCHA는 기존의 2D Text-based CAPTCHA의 보안성과 3D Text-based CAPTCHA의 사용성의 한계를 극복하기 위해 새롭게 도입된 3D Text-based CAPTCHA이다. 회전 각도에 따라 다른 글자를 표시하는 산발형 CAPTCHA로 사용자는 3D 모델을 회전시켜 글자를 식별해야한다. 보안을 강화하기 위해 배경에 노이즈를 추가하고 하나의 구체 대신 작은 입자 집합들을 사용하며 3D모델에 왜곡 적용과 같은 세가지 추가 전력이 고려될 수 있다.

# 단어

- **OCR(광학 문자 인식)**
    
    : 광학 문자 인식(OCR)은 텍스트 이미지를 기계가 읽을 수 있는 텍스트 포맷으로 변환하는 과정
    
- **타이포그래피(Typography)**
    
    : 활자나 서체의 배열을 말하는데, 특히 문자 기호를 중심으로 한 2차원적 표현
    
- Egde Detection
    
    : 엣지 보안은 탈중앙화되어 더 이상 기존의 데이터 센터에 존재하지 않는 일종의 엔터프라이즈 보안 인프라
    

# 목적

3D-CAPTCHA에 대한 이해도를 늘리고 토러스 패치 기반의 3D-CAPTCHA를 구상하는데 필요한 아이디어를 위해 이 논문을 읽게 되었다.

# 논문의 서론

현재 기계 학습의 신속한 향상으로 인해 봇들이  2D Text-based CAPTCHA와 2D Image-based CAPTCHA를 높은 정확도로 극복할 수 있게 되었다. 특히나 광학 문자 인식(OCR)의 발전으로 정교한 공격이 소개되어 2D Text-based CAPTCHA를  파괴할 수 있게 되어 컴퓨터가 상대적으로 해독하기 어려운 3D-CAPTCHA의 개발로 이어졌다. 3D-CAPTCHA는 3D Model-based CAPTCHA와 3D Text-based CAPTCHA 두 가지로 분류되는데 3D Text-based CAPTCHA은 알파벳을 단순히 도출하여 한 눈에 쉽게 인식할 수 있도록 구성되어있다. 3D Model-based CAPTCHA는 회전 능력을 필요로 하지만 사용자가 3D객체를 인식하는 것뿐만 아니라 복잡한 조작을 수행하여 답을 판단하고 추론해야하기에 사용성에 문제가 있습니다.

보안과 사용성 모두를 만족시키는 새로운 유형의 3D Text-based CAPTCHA인 DotCHA 제안한다. DotCHA는 3D Text-based CAPTCHA와 3D Image-based CAPTCHA의 장점을 결합하여 서로 다른 각도로 회전된 다른 알파벳을 제시한다. 알파벳들은 단일 고체 모델이 아닌 여러 작은 구로 구성되어 있어 OCR 공격에 강하며 3D-CAPTCHA 익숙한 사용자에게 높은 사용성을 제공한다.

# 다양한 종류의 CAPTCHA

### 2D Text-based CAPTCHA

현재 가장 널리 사용되는 캡챠로 사용성이 높으면 간단한 구조로 되어있다. 사용자에게 노이즈와 왜곡이 있는 알파벳과 숫자를 제시하면 사용자가 테스트를 통과하기 위해 올바른 텍스트를 식별해야한다. 2D Text-based CAPTCHA는 생성과 식별이 쉽다는 장점을 가지고 있지만 이러한 장점이 OCR공격을 통해 쉽게 인식될 수 있다는 단점도 가지고 있다.

### 3D Model-based CAPTCHA

기계 학습이 신속하게 향상되며 2D Text-based CAPTCHA를 쉽게 식별하는 봇을 무력화하기 위해서 가독성을 최소화 하지만 보안성이 뛰어난 CAPTCHA이다. 인간의 인지 능력인 정신적 회전을 활용하여 모델의 회전을 기반으로 만들어졌지만 사용자들이 익숙하지 않은 모델을 처리하는데 어려움이 느껴 사용성이 부족하다는 단점이 있다. 

### Interactive CAPTCHA

사용자와의 상호 작용을 통하여 자동화된 공격을 완화하는 모델로 사용자의 인지 능력과 인간의 행동을 통해 문제를 해결하게 한다. 2D 이미지를 작은 조각으로 나누어 섞인 퍼즐을 해결하도록 하거나 사용자가 세분화된 이미지를 회전시켜 원래 이미지를 재구성하게 한다.  보안성은 강하다는 장점을 갖고 있지만 문제 해결이 어렵고 시간이 많이 들어 사용성이 부족하다는 단점이 있다.

# 알고리즘

### Redqurirements

DotCHA는 3D Text-based Model로  3D Typography의 한 종류이며 한 모델이 보는 방향에 따라 다른 글자로 보이도록 하는 자동 생성 모델을 채택하였다. 하나의 큐브가 최대 세 개의 글자를 표현할 수 있지만 하나의 큐브로 세 개의 글자를 표현하게 되면 인식 방향에 따라 순서가 달라지게 된다. 사용성을 높이기 위해서 큐브에 한글자씩 새긴 후 하나의 축에 따라 여러 큐브로 배열하여 회전하는 택하였다. 랜더링 형태와 효과는 기존 2D Text-based CAPTCHA와 유사하지만 각 글자를 대화식으로 확인할 수 있는 장점을 가진다. 또한 자체의 단일 축을 형성하여 사용자가 3D 공간에서 방황하는 것을 줄이지만 큐브를 순서대로 정렬할 수 있다. 

### Extrusion and Twist of 3D Model

모델을 더 큰 모델을 형성하는 작은 단위로 나누는 기술인 분자 구조법을 사용하여 주어진 문자를 직육면체 모델에 새기는데 사용한다. DotCHA를 생성하는 기본 아이디어인 단단한 큐브 모델을 작은 단위 블록으로 자리고 주어진 글자를 나타내기 위해 불필요한 블록을 삭제하거나 누락된 블록들을 추가해준다. 

글자의 크기를 통일시키지만 중심 축을 기준으로 각각의 고유한 각도로 회전하여 단일 방향에서는 인식하지 못하도록 유지한다. 만약 DotCHA에 사용된 글자의 수가 N개라면 각 큐브의 N개의 방향을 모두 찾아야 식별이 가능하다 

### Removal of Redundant Blocks

모든 글자가 한 방향에서 보이는 것은 아니지만 OCR 공격에 취약할 수 있으므로 분할 공격을 방어하기 위해 각 글자가 특정 방향에서만 인식되고 다른 방향에서는 인식되지 않도록 불필요한 모델의 일부 블록들을 제거한다. 블록의 제거 조건은 제거해도 특정방향에서 글자에 영향을 주지 않는 블록과 블록이 모여있으면 글자를 쉽게 입력할 수 있으므로 방향 간 균형을 유지하며 블록을 제거해준다.

다중 간선을 가지는 다중 그래프를 G로 설정하고 각 정점의 점수 함수를 S로 설정하고 함수S에 따라 모든 정점을 점수화한다.주어진 정점v에 대해서 주변 정점은 v에서 유클리드 거리가 최대 k인 정점으로 정의한다. 

$$
S(v) =α·|NR(v)|+|NG(v)|
$$

$NR(v)$는 v의 이웃정점들의 집힙이다. $NR(v)$는 그래프 G에서 정점 v의 이웃 정점들의 집합이다. 주어진 정점v에 대해서 주변 정점은 v에서 유클리드 거리가 최대 k인 정점으로 정의한다. X축은 고정되어 있으므로 무시하고 Y축 또는 Z축에 따라 같은 좌표에 있는지 확인하고 배치된 블록의 수를 계산한다.Y축 또는 Z축에 배치된 유일한 정점이 아니라면 제거가 가능하다. $α$는 이 두 항 간의 균형을 맞추는 상수이다.

$$
Ψ(v′) =rank(v′)/|V(G)|
$$

$V(G)$는 정점의 수이고 $rank(v′)$은  $v′$의 순위입니다. $S(v)$가 높을수록 제거될 가능성이 높지만 확률에 따라 결정되므로 무작위성이 보장된다. 반복횟수가 $μnk^3$초과하면 반복을 멈추지만 $μ$는 제거비율이고 $nk^3$바운딩 박스의 부피를 나타낸다.

### Prototype Implementation

큐브 블록의 방향은 큐브의 가장자리에서 추론될 수 있기 때문에 글자의 방향을 쉽게 식별할 수 있어 유닛 블록을 구체로 변환하여 산포형 방법과 유사한 결과를 가진다. 사용성과 보안을 극대화하기 위해 세 가지 매개변수를 사용한다.

구 형태의 반경($ρ$) : 유닛 블록에서 구체로 변환된 구체의 반지름이고 $ρ$=1라면 구체가 큐브에 완전히 들어맞아 잘림이나 여백없이 들어간다.

구 위치의 오프셋($σ$) : 구체의 중심 위치의 오프셋이고 $σ$=0이라면 구체와 유닛 큐브의 중심이 동일하고  $σ$=0.5라면 구체의 중심이 유닛 큐브의 표면에 위치한다. 

노이즈($δ$) : 노이즈 구체의 수로 불필요한 블록을 제거한 후 $δ$개의 노이즈 구체가 모델에 추가되어 컴퓨터 인식을 방지한다.

사용성을 높이기 위해서 노이즈 구체의 영역은 $nk^3$의 세배로 하며 노이즈 구체는 사용자가 인식할 수 있게 알파벳 구체에 비해 더 빠르거나 느리게 움직이는 것으로 나타낸다. 에지 감지 공격을 피하기 위해서 $ρ$을 유닛 블록의 에지보다 작게 설정하며 각 구체는 픽셀 카운팅 공격을 피하기 위해 (0 , $σ$) 범위내에서 임의로 이동한다.

# 결론

DotCHA의 전반적인 성공률은 reCAPTCHA보다 낮았지만 일부 테스트에서는 유사한 성공률을 보여준다. 기존의 2D와 3D CAPTCHA의 한계를 극복하기 위해서 DotCHA라는 새로운 유형의 3D Text-based CAPTCHA를 제안하여서 사용성관 보안을 효과적으로 결합하였다. 사용성을 향상시키기 위해서 자동 회전 및 대화식 시스템을 도입하였고 Image-based CAPTCHA와 유사한 시스템을 가지고 있어 브라우저에 3D 모델을 전송함으로 통신과 관련된 보안 문제와 OCR 공격에 조금 더 강해졌다. 작은 입자 집합을 사용하고 산발 비율을 높이면 픽셀 계수 및 에지감지 공격에 대한 방어도 강화할 수 있다